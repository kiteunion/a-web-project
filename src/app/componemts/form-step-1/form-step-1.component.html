<div class="mb-4">
  <p-message size="small" icon="pi pi-briefcase">
    <span class="text-gray-600">Enter your trademark below (this can be a <b>word</b>, <b>multiple words</b>, or a <b>logo</b> image).</span>
  </p-message>
</div>


<div class="mb-4">
  <p-select-button [options]="stateOptions" [(ngModel)]="value" optionLabel="label" optionValue="value"
                   aria-labelledby="basic"/>
</div>
<form #myForm="ngForm" (change)="formService.save()">
  <p-card>
    <ng-container *ngIf="value == 'words'">
      <div class="flex flex-column gap-2">
        <p-iftalabel>
          <input
            #word="ngModel" [(ngModel)]="formService.applicationData.word.word" name="word"
            class="ng-dirty w-30rem max-w-full" required [class.ng-invalid]="formService.isValidField(word, myForm)"
            placeholder="Enter you trademark" pSize="large" pInputText id="trademark"/>
          <label for="trademark">Trademark</label>
        </p-iftalabel>
        <p-message *ngIf="formService.isValidField(word, myForm); else descFieldRef" class="mt-2" severity="error"
                   variant="simple" size="small">Trademark
          is required
        </p-message>
        <ng-template #descFieldRef>
          <small id="trademark-help">
            <i class="pi pi-info-circle"></i>
            Trademark words are written in uppercase for optimal protection.
          </small>
        </ng-template>
      </div>

      <div *ngIf="formService.applicationData.word.word.length > 0" class="mt-3">
        <p-fieldset [toggleable]="false" legend="Preview">
          <ng-template #header>
            <p-button class="btn-reset" (click)="reset()" [rounded]="true" icon="pi pi-times" severity="secondary"/>
          </ng-template>
          <div class="mt-2">
            <h2 class="">{{formService.applicationData.word.word}}</h2>
          </div>
        </p-fieldset>
      </div>
    </ng-container>


    <ng-container *ngIf="value == 'logo'">
      <div class="mb-4">
        <p-message variant="outlined" size="small" icon="pi pi-image">
          <span
            class="text-gray-600">Logo files should be uploaded in <b>TIFF</b>, <b>PNG</b>, <b>JPEG</b>, or <b>JPG</b> formats.</span>
        </p-message>
      </div>


      <p-fileupload
        [showCancelButton]="true"
        accept="image/tiff,image/png,image/jpeg,.jpg"
        name="logo" url="https://www.primefaces.org/cdn/api/upload.php"
        (onUpload)="onUpload($event)" [multiple]="false" [auto]="true"
        maxFileSize="3000000" mode="advanced" [chooseIcon]="'pi pi-upload'" chooseLabel="Choose logo">
        <ng-template #empty>
          <div class="text-muted">Drag and drop file to here to upload.</div>
        </ng-template>
        <ng-template #content>
          <!--<ul *ngIf="uploadedFiles.length">
            <li *ngFor="let file of uploadedFiles">{{ file.name }} - {{ file.size }} bytes</li>
          </ul>-->
        </ng-template>
      </p-fileupload>

      <div *ngIf="uploadedLogoUri as uri" class="mt-3">
        <p-fieldset [toggleable]="false" legend="Preview">
          <ng-template #header>
            <p-button class="btn-reset" (click)="reset()" [rounded]="true" icon="pi pi-times" severity="secondary"/>
          </ng-template>
          <div class="mt-2">
            <img width="200" [src]="uri" alt="">
          </div>
        </p-fieldset>
      </div>
    </ng-container>

    <ng-template #footer>
      <div class="flex gap-4 mt-1">
        <p-button
          [loading]="isLoading()"
          (click)="next()"
          type="submit" label="Next" icon="pi pi-angle-double-right"
          [raised]="true" severity="success" class="w-full" styleClass="w-full"/>
      </div>
    </ng-template>
  </p-card>

</form>
